+++
date      = "2015-03-14T23:22:37+09:00"
title     = "ダウン向き条件？"
thumbnail = "/images/down.png"
+++

半年か一年前ぐらいにダウン向き、つまりうつ伏せ倒れか、仰向け倒れかを決定するのは何か、という調べプレイをしてた。その情報です。

調べ途中で中断したまま（かの悪名高き）「一時フォルダ」に、データを突っ込んで、すっかり忘れてしまい、アドレスやら何やらが不明になったので覚えてる分だけ書く。

最近あまりやる気が無く、調べプレイどころかトレモすらしなくなったので、僕が追加で情報を出すことはないのであしからず。

後、これを調べ途中と言ってるのは、この予想が正しいか検証してなかったり、例外がないか探してなかったりするからです。間違ってたらごめんね。


## 結論

攻撃前の蓄積％によってダウン向きが決まる。
○％〜○％は仰向け、○％〜○％はうつ伏せ、○％〜○％は仰向け、……と繰り返して変化する。
その範囲は当てる技、相手キャラ毎にそれぞれ異なる。


## 内部

ダウン向きはそのキャラが最後に当てられた時のふっとばし速度によって決まる。
ふっとばし速度を x とすると、sin(ax) (a は定数) が正か負かでダウン向きが決まる。


## 思ったこと

ふっとばし速度は体重、技の威力やリアクション値によって変わるので非常に複雑。

が、変更によって変わるわけではないので、ダウンにつなげる技をキャラ限定で％毎に調べておくと応用できるかもしれない。

また体重が同じキャラは同じ範囲となるはずなので、そこは楽できる。体重が同じキャラ……？？？

**どうやって応用するんだ、この情報**。
まあ、凄いプレイヤーはびっくりするようなネタを作るから、こんな情報でも役立つかも。


## 調べプレイヤー向け

内部の計算はエミュレータ使ってアセンブリ読まないとわからないことなので、追試に結構知識がいる。計算機作れる現象だけど大変です。

キャラの状態（立ち、攻撃中、走り中など）を格納するメモリアドレスに書き込みする命令を検知するブレークポイントを引っ掛けて探しました。
