+++
date      = "2014-02-21T01:49:08+09:00"
draft     = true
title     = "スマブラDX 改造コード"
thumbnail = "http://zippy.gfycat.com/HomelyContentCicada.gif"
+++

## 作った改造コード一覧

### DOL MOD

#### ネームタグリセット無効化 (初期版用 / for v1.00)

負け抜けの対戦台などで一時的に不参加となった時にプレイヤーのネームタグがリセットされる（外れてしまう）こと無効化するコード。

Achilles さんが[各バージョン対応](http://smashboards.com/threads/the-dol-mod-topic.326347/page-5#post-16688368)＆[Gecko コード化](http://smashboards.com/threads/melee-gecko-codes-guide-and-discussion.327311/)してくれました。
**Disable Name Tag Reset After Closing Character Port** というコードです。

##### @25D3F0

    98A4007A -> 60000000

##### @25D404

    98A4001B -> 60000000

##### 解説

> ![サンプル画像](http://zippy.gfycat.com/HomelyContentCicada.gif)
> (画像は SmashBoards の Achilles1515 さんの投稿より)

@25D3F0 の方はプレイヤー→ CPU にしたときに名前タグのインデックス番号を消す処理を潰し、@25D404 の方はプレイヤー→ CPU にしたときに名前タグの表示を消す処理を潰す

#### ストックハンデ (初期版用 / for v1.00)

Kou さん発案のストックハンデ。

スマブラDX 自体のハンデがふっとばしが変わって嫌な場合にお使い下さい。

##### 使い方

試合開始時に十字キーを入力し続けると、初期ストックが減ります。
上、右、下、左、でそれぞれ 1, 2, 3, 4 ストック減少します。

##### @1760

上書きする前に、上書き箇所が全て 0 であることを確認してください。

    3E808046 62949140
    1EBE000C 7E94AA14
    82940000 56950319
    41820008 38A5FFFF
    5695039D 41820008
    38A5FFFE 5695035B
    41820008 38A5FFFD
    569503DF 41820008
    38A5FFFC 2C050000
    40800008 38A00000
    98A3008E 4802F494

##### @30824

    98A3008E -> 4BFD0B1C

##### 解説

    lis r20, 0x8046
    ori r20, r20, 0x9140    # r20 に 0x469140 (+baseaddress = 1P のコントローラー入力のメモリアドレス)
    mulli r21, r30, 12      # r30 がポート番号
    add r20, r20, r21       # 対象プレイヤーのコントローラー入力を格納するメモリアドレスポインタを取得
    lwz r20, 0(r20)         # r20 にボタン系コントローラー入力のフラグを読み込む
    rlwinm. r21, r20, 0, 12, 12 # 十字キーの入力に合わせてストックを減らす (上から時計回りで 1, 2, 3, 4)
    beq +8
    subi r5, r5, 1
    rlwinm. r21, r20, 0, 14, 14
    beq +8
    subi r5, r5, 2
    rlwinm. r21, r20, 0, 13, 13
    beq +8
    subi r5, r5, 3
    rlwinm. r21, r20, 0, 15, 15
    beq +8
    subi r5, r5, 4
    cmpwi r5, 0             # 初期ストックが負になったら 0 にする
    bge +8
    li r5, 0
    stb r5, 0x8E(r3)        # 初期ストックをメモリに書き込む
    b +0x2F494              # 元の実行位置に戻る

    b -0x2f4e4          # エントリポイントのコード: 埋め込みコード先頭に飛ぶ

#### リザルト画面スキップ (初期版用 / for v1.00)

試合後のリザルト画面なんて見ないのにいちいち表示されて鬱陶しい！という人向け

##### @17C0

    3803FFFF 2C000004
    40820010 2C0B0020
    41820008 38000000
    4819EC40

##### @19FFF4

    4BE613AC

##### 解説

    subi  r0, r3, 1
    cmpwi r0, 4         # r0 は次のシーン番号
    bne-  ->0x800047D8  # 元々、次のシーンがリザルト画面の場合のみ実行
    cmpwi r11, 32       # デバッグモードから試合開始すると r11 が 32 となる
    beq-  ->0x800047D8  # デバッグモードからなら実行しない
    li  r0, 0           # 次のシーンをキャラクターセレクト画面にする
    b ->0x801A3418      # 元の実行位置に戻る

#### ランダムステージスイッチ出現 (初期版用 / for v1.00)

無条件でランダムステージスイッチを出現させる。

今までのものはタイトルでスタートを押すなどして「お知らせ」を表示させなければならなかったが、これは不要となりました。
そのため Boot to CSS (起動直後にキャラセレ画面) のコードと併用しやすくなります。

セーブデータに影響を与えません。

##### @15AFAC

    3800000E
